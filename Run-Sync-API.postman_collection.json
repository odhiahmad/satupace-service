{
  "info": {
    "name": "Run-Sync API",
    "description": "Complete API collection for Run-Sync running social app. Includes authentication (OTP + biometric), user management, runner profiles, run groups, activities, matching, chat, photos (Cloudinary), safety, smartwatch sync, and WhatsApp verification.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "group_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "member_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "activity_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "match_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "profile_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "photo_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "safety_log_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "device_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "credential_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "message_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîê Authentication",
      "description": "Register ‚Üí Verify OTP ‚Üí Login flow. Supports login via email OR phone number. Biometric (passkey) login also available.",
      "item": [
        {
          "name": "Register (Sign Up)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone_number\": \"081234567890\",\n  \"gender\": \"male\",\n  \"password\": \"SecurePass123!\"\n}"
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/verify",
              "host": ["{{base_url}}"],
              "path": ["auth", "verify"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"081234567890\",\n  \"otp_code\": \"123456\"\n}"
            }
          }
        },
        {
          "name": "Login (Email or Phone)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"john@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
            },
            "description": "Login menggunakan email ATAU nomor telepon. Field 'identifier' menerima keduanya."
          }
        },
        {
          "name": "Login (Phone Number)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"081234567890\",\n  \"password\": \"SecurePass123!\"\n}"
            },
            "description": "Login menggunakan nomor telepon via field 'identifier'."
          }
        },
        {
          "name": "Resend OTP",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/resend-otp",
              "host": ["{{base_url}}"],
              "path": ["auth", "resend-otp"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone_number\": \"081234567890\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "üîë Biometric Authentication",
      "description": "Passkey/biometric login flow. Register requires JWT (user must be logged in first). Login is public (no JWT needed). Uses challenge-response with HMAC-SHA256 signature verification.",
      "item": [
        {
          "name": "Register Biometric - Start",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/biometric/register/start",
              "host": ["{{base_url}}"],
              "path": ["biometric", "register", "start"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_name\": \"iPhone 15 Pro\"\n}"
            },
            "description": "Memulai registrasi biometrik. Server mengembalikan challenge yang harus ditandatangani oleh client."
          }
        },
        {
          "name": "Register Biometric - Finish",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/biometric/register/finish",
              "host": ["{{base_url}}"],
              "path": ["biometric", "register", "finish"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"credential_id\": \"unique-credential-id-from-device\",\n  \"public_key\": \"hex-encoded-public-key\",\n  \"device_name\": \"iPhone 15 Pro\",\n  \"challenge\": \"challenge-from-start-step\",\n  \"signature\": \"hex-encoded-hmac-sha256-signature\"\n}"
            },
            "description": "Menyelesaikan registrasi biometrik dengan mengirim credential_id, public_key, dan signature dari challenge."
          }
        },
        {
          "name": "Login Biometric - Start",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/biometric/login/start",
              "host": ["{{base_url}}"],
              "path": ["auth", "biometric", "login", "start"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"john@example.com\"\n}"
            },
            "description": "Memulai login biometrik. Identifier bisa email atau nomor telepon. Server mengembalikan challenge."
          }
        },
        {
          "name": "Login Biometric - Finish",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/auth/biometric/login/finish",
              "host": ["{{base_url}}"],
              "path": ["auth", "biometric", "login", "finish"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"credential_id\": \"unique-credential-id-from-device\",\n  \"challenge\": \"challenge-from-start-step\",\n  \"signature\": \"hex-encoded-hmac-sha256-signature\"\n}"
            },
            "description": "Menyelesaikan login biometrik. Mengembalikan user + JWT token jika valid."
          }
        },
        {
          "name": "Get My Biometric Credentials",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/biometric/credentials",
              "host": ["{{base_url}}"],
              "path": ["biometric", "credentials"]
            },
            "description": "Mengambil semua credential biometrik yang terdaftar untuk user ini."
          }
        },
        {
          "name": "Delete Biometric Credential",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/biometric/credentials/{{credential_id}}",
              "host": ["{{base_url}}"],
              "path": ["biometric", "credentials", "{{credential_id}}"]
            },
            "description": "Menghapus credential biometrik tertentu."
          }
        }
      ]
    },
    {
      "name": "üë§ Users",
      "description": "CRUD user management.",
      "item": [
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/users",
              "host": ["{{base_url}}"],
              "path": ["users"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone_number\": \"081234567890\",\n  \"gender\": \"male\",\n  \"password\": \"SecurePass123!\"\n}"
            }
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/users",
              "host": ["{{base_url}}"],
              "path": ["users"]
            }
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            }
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Updated\",\n  \"gender\": \"male\"\n}"
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üèÉ Runner Profiles",
      "description": "Runner profile management. CreateOrUpdate enforces one profile per user. JWT required.",
      "item": [
        {
          "name": "Create or Update Profile",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles",
              "host": ["{{base_url}}"],
              "path": ["profiles"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"avg_pace\": 5.5,\n  \"preferred_distance\": 10,\n  \"preferred_time\": \"morning\",\n  \"latitude\": -6.2088,\n  \"longitude\": 106.8456,\n  \"women_only_mode\": false,\n  \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRg...\"\n}"
            },
            "description": "Membuat atau memperbarui profil runner. Field 'image' menerima base64 string yang akan diupload ke Cloudinary. Satu user hanya bisa punya satu profil."
          }
        },
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles/me",
              "host": ["{{base_url}}"],
              "path": ["profiles", "me"]
            }
          }
        },
        {
          "name": "Get Profile by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles/{{profile_id}}",
              "host": ["{{base_url}}"],
              "path": ["profiles", "{{profile_id}}"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles/{{profile_id}}",
              "host": ["{{base_url}}"],
              "path": ["profiles", "{{profile_id}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"avg_pace\": 6.0,\n  \"preferred_distance\": 15,\n  \"preferred_time\": \"evening\",\n  \"image\": \"data:image/png;base64,iVBORw0KGgo...\"\n}"
            },
            "description": "Update partial profil runner. Field 'image' base64 akan diupload ke Cloudinary."
          }
        },
        {
          "name": "Get All Profiles",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles",
              "host": ["{{base_url}}"],
              "path": ["profiles"]
            }
          }
        },
        {
          "name": "Delete Profile",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/profiles/{{profile_id}}",
              "host": ["{{base_url}}"],
              "path": ["profiles", "{{profile_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üë• Run Groups",
      "description": "Run group management including join, members, and member management.",
      "item": [
        {
          "name": "Create Run Group",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/groups",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Weekend Morning Run\",\n  \"avg_pace\": 5.5,\n  \"preferred_distance\": 10,\n  \"latitude\": -6.2088,\n  \"longitude\": 106.8456,\n  \"scheduled_at\": \"2026-02-22T06:00:00Z\",\n  \"max_member\": 15,\n  \"is_women_only\": false\n}"
            }
          }
        },
        {
          "name": "Get All Run Groups",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/runs/groups",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups"]
            }
          }
        },
        {
          "name": "Get Run Group by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/runs/groups/{{group_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups", "{{group_id}}"]
            }
          }
        },
        {
          "name": "Update Run Group",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/groups/{{group_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups", "{{group_id}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Group Name\",\n  \"max_member\": 20,\n  \"status\": \"open\"\n}"
            }
          }
        },
        {
          "name": "Delete Run Group",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/groups/{{group_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups", "{{group_id}}"]
            }
          }
        },
        {
          "name": "Join Run Group",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/groups/{{group_id}}/join",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups", "{{group_id}}", "join"]
            },
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "description": "Join a run group. Enforces women-only check and max member limit. Uses database transaction."
          }
        },
        {
          "name": "Get Group Members",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/runs/groups/{{group_id}}/members",
              "host": ["{{base_url}}"],
              "path": ["runs", "groups", "{{group_id}}", "members"]
            }
          }
        },
        {
          "name": "Update Member",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/members/{{member_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "members", "{{member_id}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"pacer\"\n}"
            }
          }
        },
        {
          "name": "Remove Member",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/members/{{member_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "members", "{{member_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üèÖ Run Activities",
      "description": "Track running activities with auto pace calculation and profile update.",
      "item": [
        {
          "name": "Create Run Activity",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/runs/activities",
              "host": ["{{base_url}}"],
              "path": ["runs", "activities"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"distance\": 10.5,\n  \"duration\": 3600,\n  \"calories\": 650,\n  \"route_data\": \"{\\\"coordinates\\\": [...]}\",\n  \"started_at\": \"2026-02-21T06:00:00Z\",\n  \"ended_at\": \"2026-02-21T07:00:00Z\"\n}"
            },
            "description": "avg_pace dihitung otomatis dari distance/duration. Profil runner diupdate dengan pace terbaru."
          }
        },
        {
          "name": "Get Activity by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/runs/activities/{{activity_id}}",
              "host": ["{{base_url}}"],
              "path": ["runs", "activities", "{{activity_id}}"]
            }
          }
        },
        {
          "name": "Get User Activities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/runs/users/{{user_id}}/activities",
              "host": ["{{base_url}}"],
              "path": ["runs", "users", "{{user_id}}", "activities"]
            }
          }
        }
      ]
    },
    {
      "name": "üîç Explore / Discover",
      "description": "Find nearby runners and groups. Requires JWT + runner profile.",
      "item": [
        {
          "name": "Find Nearby Runners",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/explore/runners",
              "host": ["{{base_url}}"],
              "path": ["explore", "runners"]
            },
            "description": "Mencari runner terdekat berdasarkan lokasi profil."
          }
        },
        {
          "name": "Find Nearby Groups",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/explore/groups",
              "host": ["{{base_url}}"],
              "path": ["explore", "groups"]
            },
            "description": "Mencari grup lari terdekat berdasarkan lokasi profil."
          }
        }
      ]
    },
    {
      "name": "üíò Direct Matching",
      "description": "Match with other runners. Uses matching engine with compatibility scoring. Supports reverse-match detection and auto-accept.",
      "item": [
        {
          "name": "Get Match Candidates",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match/candidates",
              "host": ["{{base_url}}"],
              "path": ["match", "candidates"]
            },
            "description": "Mendapatkan daftar kandidat match yang direkomendasikan oleh matching engine."
          }
        },
        {
          "name": "Send Match Request",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match",
              "host": ["{{base_url}}"],
              "path": ["match"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id_2\": \"TARGET_USER_UUID\",\n  \"message\": \"Hey! Would you like to run together?\"\n}"
            },
            "description": "Mengirim permintaan match. Jika reverse match terdeteksi (target sudah kirim ke kita), otomatis accepted."
          }
        },
        {
          "name": "Accept Match",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match/{{match_id}}/accept",
              "host": ["{{base_url}}"],
              "path": ["match", "{{match_id}}", "accept"]
            },
            "description": "Menerima permintaan match."
          }
        },
        {
          "name": "Reject Match",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match/{{match_id}}/reject",
              "host": ["{{base_url}}"],
              "path": ["match", "{{match_id}}", "reject"]
            },
            "description": "Menolak permintaan match."
          }
        },
        {
          "name": "Get Match Details",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match/{{match_id}}",
              "host": ["{{base_url}}"],
              "path": ["match", "{{match_id}}"]
            }
          }
        },
        {
          "name": "Get My Matches",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/match/me",
              "host": ["{{base_url}}"],
              "path": ["match", "me"]
            }
          }
        }
      ]
    },
    {
      "name": "üí¨ Chat (REST + WebSocket)",
      "description": "REST endpoints for chat history. WebSocket endpoints: ws://host/ws/direct/:matchId and ws://host/ws/group/:groupId",
      "item": [
        {
          "name": "Get Direct Chat History",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/chats/direct/{{match_id}}",
              "host": ["{{base_url}}"],
              "path": ["chats", "direct", "{{match_id}}"]
            }
          }
        },
        {
          "name": "Get Group Chat History",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/chats/group/{{group_id}}",
              "host": ["{{base_url}}"],
              "path": ["chats", "group", "{{group_id}}"]
            }
          }
        },
        {
          "name": "Delete Message",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/chats/messages/{{message_id}}",
              "host": ["{{base_url}}"],
              "path": ["chats", "messages", "{{message_id}}"]
            }
          }
        },
        {
          "name": "WebSocket - Direct Chat",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ws/direct/{{match_id}}",
              "host": ["{{base_url}}"],
              "path": ["ws", "direct", "{{match_id}}"]
            },
            "description": "WebSocket endpoint. Connect via: ws://localhost:8080/ws/direct/:matchId"
          }
        },
        {
          "name": "WebSocket - Group Chat",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ws/group/{{group_id}}",
              "host": ["{{base_url}}"],
              "path": ["ws", "group", "{{group_id}}"]
            },
            "description": "WebSocket endpoint. Connect via: ws://localhost:8080/ws/group/:groupId"
          }
        }
      ]
    },
    {
      "name": "üì∏ Media & Photos (Cloudinary)",
      "description": "Photo upload via Cloudinary. Kirim gambar sebagai base64 string di field 'image'. Server upload ke Cloudinary dan simpan URL.",
      "item": [
        {
          "name": "Upload Photo (Base64 ‚Üí Cloudinary)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/media/photos",
              "host": ["{{base_url}}"],
              "path": ["media", "photos"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...\",\n  \"type\": \"profile\",\n  \"is_primary\": true\n}"
            },
            "description": "Upload foto melalui Cloudinary. Field 'image' menerima base64 string. Type: profile | run | verification."
          }
        },
        {
          "name": "Get Photo by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/media/photos/{{photo_id}}",
              "host": ["{{base_url}}"],
              "path": ["media", "photos", "{{photo_id}}"]
            }
          }
        },
        {
          "name": "Get User Photos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/media/users/{{user_id}}/photos",
              "host": ["{{base_url}}"],
              "path": ["media", "users", "{{user_id}}", "photos"]
            }
          }
        }
      ]
    },
    {
      "name": "üõ°Ô∏è Safety & Reports",
      "description": "Safety logs and user reporting. Report counter auto-increments, user auto-suspended after threshold.",
      "item": [
        {
          "name": "Report User (Safety Log)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/media/safety",
              "host": ["{{base_url}}"],
              "path": ["media", "safety"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reported_user_id\": \"TARGET_USER_UUID\",\n  \"reason\": \"harassment\",\n  \"description\": \"Inappropriate behavior during run\"\n}"
            },
            "description": "Melaporkan user. Report counter bertambah otomatis. User otomatis disuspend setelah mencapai threshold."
          }
        },
        {
          "name": "Get Safety Log by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/media/safety/{{safety_log_id}}",
              "host": ["{{base_url}}"],
              "path": ["media", "safety", "{{safety_log_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "‚åö SmartWatch Sync",
      "description": "Smartwatch device management and activity sync. Requires JWT + runner profile.",
      "item": [
        {
          "name": "Connect Device",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/devices",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "devices"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_name\": \"Apple Watch Series 9\",\n  \"device_type\": \"apple_watch\",\n  \"device_id\": \"DEVICE-UUID-FROM-WATCH\"\n}"
            }
          }
        },
        {
          "name": "Get My Devices",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/devices",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "devices"]
            }
          }
        },
        {
          "name": "Disconnect Device",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/devices/{{device_id}}",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "devices", "{{device_id}}"]
            }
          }
        },
        {
          "name": "Get Device Stats",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/devices/{{device_id}}/stats",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "devices", "{{device_id}}", "stats"]
            }
          }
        },
        {
          "name": "Sync Activity",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/sync",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "sync"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_id\": \"{{device_id}}\",\n  \"distance\": 5.2,\n  \"duration\": 1800,\n  \"heart_rate_avg\": 145,\n  \"heart_rate_max\": 172,\n  \"calories\": 380,\n  \"steps\": 6200,\n  \"synced_at\": \"2026-02-21T07:30:00Z\"\n}"
            }
          }
        },
        {
          "name": "Batch Sync Activities",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/sync/batch",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "sync", "batch"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_id\": \"{{device_id}}\",\n  \"activities\": [\n    {\n      \"distance\": 3.1,\n      \"duration\": 1200,\n      \"heart_rate_avg\": 138,\n      \"calories\": 220,\n      \"synced_at\": \"2026-02-20T06:00:00Z\"\n    },\n    {\n      \"distance\": 7.5,\n      \"duration\": 2700,\n      \"heart_rate_avg\": 152,\n      \"calories\": 540,\n      \"synced_at\": \"2026-02-21T06:00:00Z\"\n    }\n  ]\n}"
            }
          }
        },
        {
          "name": "Get Sync History",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{jwt_token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/smartwatch/sync/history",
              "host": ["{{base_url}}"],
              "path": ["smartwatch", "sync", "history"]
            }
          }
        }
      ]
    },
    {
      "name": "üì± WhatsApp Verification",
      "description": "Phone number verification via WhatsApp OTP.",
      "item": [
        {
          "name": "Register Phone Number",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/whatsapp/register",
              "host": ["{{base_url}}"],
              "path": ["whatsapp", "register"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"phone_number\": \"6281234567890\"\n}"
            }
          }
        },
        {
          "name": "Verify OTP Code",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": {
              "raw": "{{base_url}}/whatsapp/verify",
              "host": ["{{base_url}}"],
              "path": ["whatsapp", "verify"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}"
            }
          }
        }
      ]
    }
  ]
}
